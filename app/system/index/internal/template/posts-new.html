<div class="main">
    <div class="crumb">
        <a href="/">V2EX</a>
        <span class="chevron">&nbsp;›&nbsp;</span>

        <span> 创作新主题 &nbsp;</span>

    </div>


    <div class="problem" style="display: none">
        请解决以下问题然后再提交：
        <ul></ul>
    </div>

    <div class="box post_container">
        <div class="f-c">
            <form action="/posts-store">
                <div class="f-ele-c">
                    <input class="post_title"
                           name="title"
                           type="text" placeholder="请输入主题标题，如果标题能够表达完整内容，则正文可以为空">
                </div>
                <div class="f-ele-c">
                    <textarea class="post_content" name="content" id="content" cols="30" rows="10"></textarea>

                </div>

                <div class="f-ele-c">
                    <label class="f-ele-l">主题节点:</label>
                    <select class="f-ele" name="node_id" id="nodes">
                        {{range $key,$value := .Data.nodes}}

                        <option value="{{$value.Id}}">{{$value.Name}}</option>
                        {{end}}

                    </select>
                </div>

                <div class="f-ele-c">
                    <div class="f-ele ">
                        <label class="f-ele-l"></label>
                        <input type="submit" class="button" value="发新主题">
                    </div>
                </div>

            </form>
        </div>
    </div>


</div>

<div class="right-bar">
    <div class="box ad">
        <span>Sponsored by </span>
        <img
                src="https://cdn.v2ex.com/assets/sidebar/linkedin_20220910_a.png"
                alt=""
        />
        <a href="/" class="ad_title">
            2000 个不用坐班的远程好工作在召唤你
        </a>
        <p class="ad_description">
            弹性上班不打卡，工作和生活都能拥有 2000
            个不用坐班的全球远程工作，帮助 V2EX 的小伙伴开启全新的工作方式。
        </p>
        <p class="site">Promoted by <a href="/">LinkedIn</a></p>
    </div>
</div>

<script>

  jQuery(function ($) {

    $("form").submit(function () {
      $.post(
        $(this).attr('action'),
        $(this).serialize(),
        function (data) {
          console.log(data);
          if (data.code===0){
            window.location.href='/';
          }else{
            gf.setError(data.message);
          }
        }
      );
      return false;
    });
  })
</script>


<style>
  textarea {
    /*width: -webkit-fill-available;*/
    width: 99%;
  }


  .post_title {
    width: 100%;
    font-size: 16px;
    line-height: 100%;
    overflow: hidden;
    overflow-wrap: break-word;
    height: 36px;
  }

  .post_content {

  }

</style>
